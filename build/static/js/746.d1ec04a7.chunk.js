"use strict";(self.webpackChunkDami=self.webpackChunkDami||[]).push([[746],{6577:function(e,r,n){n.d(r,{j:function(){return u},n:function(){return x}});var t=n(4165),i=n(5861),s=n(1881),a=n.n(s),o=n(4886),l=n(7637),c=a().create({baseURL:o.L1.BASE_URL,headers:{"Content-Type":"application/json",Accept:"application/json"}});c.interceptors.request.use((function(e){var r=l.Z.getLocalAccessToken();return r&&(e.headers.Authorization="Bearer "+r),e}),(function(e){return Promise.reject(e)}));var d=!1;c.interceptors.response.use((function(e){return e}),function(){var e=(0,i.Z)((0,t.Z)().mark((function e(r){var n,i,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r.config).url==o.L1.LOGIN||!r.response){e.next=21;break}if(401!==r.response.status||d){e.next=20;break}return d=!0,e.prev=4,e.next=7,c.post("/auth/refreshtoken",{refreshToken:l.Z.getLocalRefreshToken()});case 7:return i=e.sent,s=i.data.token,l.Z.updateLocalAccessToken(s),e.abrupt("return",c(n));case 13:return e.prev=13,e.t0=e.catch(4),l.Z.removeUser(),window.location.reload(),e.abrupt("return",Promise.reject(e.t0));case 18:e.next=21;break;case 20:d&&(d=!1,l.Z.removeUser());case 21:return e.abrupt("return",Promise.reject(r));case 22:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(r){return e.apply(this,arguments)}}());var u=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(r){var n,i,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="get","method"in r&&(n=r.method.toLowerCase()),i=r.url,delete r.method,delete r.url,"get"!=n&&"delete"!=n){e.next=11;break}return r.params=r.data,delete r.data,e.abrupt("return",c[n](i,r));case 11:return s=r.data,delete r.data,e.abrupt("return",c[n](i,s,r));case 14:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({url:r,responseType:"blob"}).then((function(e){var r=e.data,n=document.createElement("a"),t=window.URL.createObjectURL(r);n.href=t,n.download="Report.pdf",document.body.append(n),n.click(),n.remove(),window.URL.revokeObjectURL(t)}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},8678:function(e,r,n){n.d(r,{Z:function(){return s}});var t=n(2087),i=n(6417);function s(e){var r=e.children;e.type;return(0,i.jsx)(t.E.div,{whileHover:{scale:1},whileTap:{scale:.9},children:r})}s.defaultProps={type:"scale"}},7772:function(e,r,n){var t=n(9506),i=n(1113),s=n(7723),a=n(1130),o=n(8303),l=n(6417);function c(e){var r=e.mini;return(0,l.jsx)(t.Z,{sx:{bottom:0,width:"100%",position:Boolean(r)?"relative":"absolute",height:"2.5rem"},children:(0,l.jsxs)(t.Z,{px:2,py:1,display:{xs:"block",md:"flex"},alignItems:"center",textAlign:{xs:"center",md:"left"},justifyContent:"space-between",children:[(0,l.jsxs)(t.Z,{display:"flex",gap:2,children:[(0,l.jsx)(i.Z,{sx:{display:Boolean(r)?"none":"block"},children:"\xa9 2022 - Referendum 2.0"}),(0,l.jsx)(i.Z,{sx:{fontSize:Boolean(r)?"10px":"13px"},children:(0,l.jsx)(o.rU,{to:a.L1.PRIVACY,rel:"Privacy Policy",children:"Privacy Policy"})}),(0,l.jsx)(i.Z,{sx:{fontSize:Boolean(r)?"10px":"13px"},children:(0,l.jsx)(o.rU,{to:a.L1.TERMS,rel:"Terms and conditions",children:"ToS"})}),(0,l.jsx)(i.Z,{sx:{fontSize:Boolean(r)?"10px":"13px"},children:(0,l.jsx)(o.rU,{to:a.L1.FAQ,rel:"Frequently asked question",children:"FAQ"})}),(0,l.jsx)(i.Z,{sx:{fontSize:Boolean(r)?"10px":"13px"},children:(0,l.jsx)(o.rU,{to:a.L1.BLOG,rel:"Blog",children:"Blog"})}),(0,l.jsx)(i.Z,{sx:{fontSize:"13px",display:Boolean(r)?"none":"block"},children:(0,l.jsx)(o.rU,{to:a.L1.HOME,rel:"Home",children:"Home"})})]}),(0,l.jsxs)(i.Z,{sx:{pt:{xs:2,md:0},fontSize:Boolean(r)?"10px":"13px",display:Boolean(r)?"none":"block"},children:["Crafted by"," ",(0,l.jsx)(s.Z,{href:"https://www.linkedin.com/in/shree-krishna-acharya-0a10a514b/",rel:"sksharma72000@gmail.com",target:"_blank",sx:{color:"#fff",textShadow:"0 3px 5px rgba(0, 0, 0, 0.5)"},children:"Shree Krishna Acharya"})]})]})})}c.defaultProps={mini:!1},r.Z=c},4049:function(e,r,n){n.d(r,{Z:function(){return c}});var t=n(1413),i=n(8303),s=n(7999),a=n.p+"static/media/logo.fc2eee2a0f516fa7c80f.png",o=n(6417),l=function(){return(0,o.jsx)("img",{src:a,alt:"Referendum 2.0",width:"221"})},c=function(e){var r=e.sx,n=e.to;return(0,o.jsx)(s.Z,{disableRipple:!0,component:i.rU,to:n,sx:(0,t.Z)((0,t.Z)({},r),{},{position:"absolute",top:0}),children:(0,o.jsx)(l,{})})}},3045:function(e,r,n){n.r(r),n.d(r,{default:function(){return be}});var t=n(3830),i=n(4886),s=n(8303),a=n(9019),o=n(5898),l=n(1113),c=n(4165),d=n(1413),u=n(5861),x=n(885),h=n(7313),p=n(5627),m=n(3306),f=n(7843),Z=n(5480),j=n(1727),g=n(7131),v=n(3929),w=n(4758),b=n(7723),y=n(4193),P=n(2563),S=n(8089),k=n(2702),L=n(8678),R=n(1741),F=n(4874),E=n(7637),A=n(1130),C=n(6577),W=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(r){var n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,C.j)((0,d.Z)({},r)).then((function(e){return{flag:!0,status:e.status,message:"Success",data:e.data}})).then((function(e){return e})).catch((function(e){return{flag:!1,status:e.status,message:e.data?e.data.message:"Error",data:e.data}}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();function I(e){return U.apply(this,arguments)}function U(){return(U=(0,u.Z)((0,c.Z)().mark((function e(r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({url:"/auth/login",data:r,method:"post"}).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return z.apply(this,arguments)}function z(){return(z=(0,u.Z)((0,c.Z)().mark((function e(r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({url:"/auth/signup/",method:"post",data:r}).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return B.apply(this,arguments)}function B(){return(B=(0,u.Z)((0,c.Z)().mark((function e(r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({url:"/auth/forgot",data:r,method:"post"}).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return _.apply(this,arguments)}function _(){return(_=(0,u.Z)((0,c.Z)().mark((function e(r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({url:"/auth/change-password",data:(0,d.Z)({},r),method:"post"}).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=n(6417),T=S.Ry({username:S.Z_().required("Email cannot be blank").email(),password:S.Z_().required("Password cannot be blank")}),G=function(){var e=(0,h.useState)(!1),r=(0,x.Z)(e,2),n=r[0],i=r[1],S=(0,h.useState)(!1),C=(0,x.Z)(S,2),W=C[0],U=C[1],q=(0,t.k6)(),z=(0,p.cI)({resolver:(0,P.X)(T)}),D=z.handleSubmit,B=z.control,O=z.formState,_=(O.errors,O.isSubmitting),G=function(){U(!W)},N=function(e){e.preventDefault()},Q=(0,k.Ds)().enqueueSnackbar,H=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(r).then((function(e){if(1==e.flag){Q("Login success",{variant:"success"}),E.Z.setUser((0,d.Z)({},e.data));var r=localStorage.getItem("REFEERER_URL");Boolean(r)?(localStorage.removeItem("REFEERER_URL"),window.location.href=r):q.push({pathname:A.L1.HOME})}else Q("Invalid login detail",{variant:"error"})}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("form",{noValidate:!0,onSubmit:D(H),children:(0,V.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(o.Z,{spacing:1,children:(0,V.jsx)(p.Qr,{name:"username",defaultValue:"",control:B,render:function(e){var r,n=e.field,t=e.fieldState;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{htmlFor:"email-login",children:"Email Address"}),(0,V.jsx)(f.Z,(0,d.Z)({id:"email-login",type:"email",placeholder:"Enter email address",fullWidth:!0},n)),t.error&&(0,V.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:null===(r=t.error)||void 0===r?void 0:r.message})]})}})})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(o.Z,{spacing:1,children:(0,V.jsx)(p.Qr,{name:"password",defaultValue:"",control:B,render:function(e){var r,n=e.field,t=e.fieldState;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{htmlFor:"password-login",children:"Password"}),(0,V.jsx)(f.Z,(0,d.Z)((0,d.Z)({fullWidth:!0,id:"-password-login",type:W?"text":"password"},n),{},{endAdornment:(0,V.jsx)(j.Z,{position:"end",children:(0,V.jsx)(g.Z,{"aria-label":"toggle password visibility",onClick:G,onMouseDown:N,edge:"end",size:"large",children:W?(0,V.jsx)(R.Z,{}):(0,V.jsx)(F.Z,{})})}),placeholder:"Enter password"})),t.error&&(0,V.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:null===(r=t.error)||void 0===r?void 0:r.message})]})}})})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,sx:{mt:-1},children:(0,V.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,V.jsx)(v.Z,{control:(0,V.jsx)(w.Z,{checked:n,onChange:function(e){return i(e.target.checked)},name:"checked",color:"primary",size:"small"}),label:(0,V.jsx)(l.Z,{variant:"h6",children:"Keep me sign in"})}),(0,V.jsx)(b.Z,{variant:"h6",component:s.rU,to:A.L1.FORGOT_PASSWORD,color:"text.primary",children:"Forgot Password?"})]})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(L.Z,{children:(0,V.jsx)(y.Z,{disableElevation:!0,disabled:_,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Login"})})})]})})})},N=n(9506),Q=n(5987),H=n(9860),M=n(3428),X=n(4641),K=n(9536),Y=n(3405),$=["border","boxShadow","children","content","contentSX","darkTitle","divider","elevation","secondary","shadow","sx","title","codeHighlight"],J={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},ee=(0,h.forwardRef)((function(e,r){var n=e.border,t=void 0===n||n,i=e.boxShadow,s=e.children,a=e.content,o=void 0===a||a,c=e.contentSX,u=void 0===c?{}:c,x=e.darkTitle,h=e.divider,p=void 0===h||h,m=e.elevation,f=e.secondary,Z=e.shadow,j=e.sx,g=void 0===j?{}:j,v=e.title,w=(e.codeHighlight,(0,Q.Z)(e,$)),b=(0,H.Z)();return i="dark"===b.palette.mode?i||!0:i,(0,V.jsxs)(M.Z,(0,d.Z)((0,d.Z)({elevation:m||0,ref:r},w),{},{sx:(0,d.Z)((0,d.Z)({},g),{},{border:t?"1px solid":"none",borderRadius:2,borderColor:"dark"===b.palette.mode?b.palette.divider:b.palette.grey.A800,boxShadow:!i||t&&"dark"!==b.palette.mode?"inherit":Z||b.customShadows.z1,":hover":{boxShadow:i?Z||b.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:b.typography.fontFamily,fontSize:"0.75rem"}}),children:[!x&&v&&(0,V.jsx)(X.Z,{sx:J,titleTypographyProps:{variant:"subtitle1"},title:v,action:f}),x&&v&&(0,V.jsx)(X.Z,{sx:J,title:(0,V.jsx)(l.Z,{variant:"h3",children:v}),action:f}),v&&p&&(0,V.jsx)(K.Z,{}),o&&(0,V.jsx)(Y.Z,{sx:u,children:s}),!o&&s]}))})),re=["children"],ne=function(e){var r=e.children,n=(0,Q.Z)(e,re);return(0,V.jsx)(ee,(0,d.Z)((0,d.Z)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1},n),{},{border:!1,boxShadow:!0,children:(0,V.jsx)(N.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:r})}))},te=n(4049),ie=n.p+"static/media/bg.f1359f1f153ff56c396e.png",se=function(){return(0,V.jsx)(N.Z,{sx:{position:"fixed",zIndex:-1,width:"100%",height:"100%",background:"url(".concat(ie,") repeat center center fixed"),backgroundSize:"auto"}})},ae=n(7772),oe=function(e){var r=e.children;return(0,V.jsxs)(N.Z,{children:[(0,V.jsx)(se,{}),(0,V.jsxs)(a.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"60vh"},children:[(0,V.jsx)(a.ZP,{item:!0,xs:12,sx:{px:2,py:1},children:(0,V.jsx)(te.Z,{to:A.L1.HOME})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(a.ZP,{item:!0,xs:12,container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:{xs:"calc(100vh - 250px)",md:"calc(100vh - 200px)"},mt:4},children:(0,V.jsx)(a.ZP,{item:!0,children:(0,V.jsx)(ne,{children:r})})})})]}),(0,V.jsx)(ae.Z,{})]})},le=n(182),ce=function(){return(0,V.jsxs)(oe,{children:[(0,V.jsx)(le.q,{children:(0,V.jsx)("title",{children:"Login | Referendum 2.0"})}),(0,V.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[(0,V.jsx)(l.Z,{variant:"h3",children:"Login"}),(0,V.jsx)(l.Z,{component:s.rU,to:A.L1.SIGNUP,variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Don't have an account?"})]})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(G,{})})]})]})},de=n(1550),ue=function(e){var r=0;return e.length>5&&(r+=1),e.length>7&&(r+=1),function(e){return new RegExp(/[0-9]/).test(e)}(e)&&(r+=1),function(e){return new RegExp(/[!#@$%^&*)(+=._-]/).test(e)}(e)&&(r+=1),function(e){return new RegExp(/[a-z]/).test(e)&&new RegExp(/[A-Z]/).test(e)}(e)&&(r+=1),r},xe=S.Ry({fname:S.Z_().required("First name cannot be blank"),lname:S.Z_().required("Last name cannot be blank"),email:S.Z_().required("Email cannot be blank").email(),contact:S.Z_().required("Phone cannot be blank"),temp_password:S.Z_().required("Password cannot be blank")}),he=function(){var e=(0,h.useState)(),r=(0,x.Z)(e,2),n=r[0],t=r[1],i=(0,h.useState)(!1),v=(0,x.Z)(i,2),w=v[0],S=v[1],E=function(){S(!w)},C=(0,k.Ds)().enqueueSnackbar,W=function(e){e.preventDefault()},I=(0,p.cI)({resolver:(0,P.X)(xe)}),U=I.handleSubmit,z=I.control,D=I.formState,B=(D.errors,D.isSubmitting);(0,h.useEffect)((function(){!function(e){var r,n=ue(e);t((r=n)<2?{label:"Poor",color:"error.main"}:r<3?{label:"Weak",color:"warning.main"}:r<4?{label:"Normal",color:"warning.dark"}:r<5?{label:"Good",color:"success.main"}:r<6?{label:"Strong",color:"success.dark"}:{label:"Poor",color:"error.main"})}("")}),[]);var O=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(r).then((function(e){1==e.flag?(C("Signup success",{variant:"success"}),history.push({pathname:sitePage.LOGIN})):C("Signup failed",{variant:"error"})}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("form",{noValidate:!0,onSubmit:U(O),children:(0,V.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,V.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,V.jsx)(o.Z,{spacing:1,children:(0,V.jsx)(p.Qr,{name:"fname",defaultValue:"",control:z,render:function(e){var r=e.field,n=e.fieldState;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{htmlFor:"firstname-signup",children:"First Name*"}),(0,V.jsx)(f.Z,(0,d.Z)((0,d.Z)({},r),{},{id:"firstname-login",type:"firstname",fullWidth:!0,error:Boolean(n.error)})),n.error&&(0,V.jsx)(Z.Z,{error:!0,id:"helper-text-firstname-signup",children:n.error.message})]})}})})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,V.jsx)(o.Z,{spacing:1,children:(0,V.jsx)(p.Qr,{name:"lname",defaultValue:"",control:z,render:function(e){var r=e.field,n=e.fieldState;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{htmlFor:"lastname-signup",children:"Last Name*"}),(0,V.jsx)(f.Z,(0,d.Z)((0,d.Z)({},r),{},{fullWidth:!0,error:Boolean(n.error),id:"lastname-signup",inputProps:{}})),n.error&&(0,V.jsx)(Z.Z,{error:!0,children:n.error.message})]})}})})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(o.Z,{spacing:1,children:(0,V.jsx)(p.Qr,{name:"contact",defaultValue:"",control:z,render:function(e){var r=e.field,n=e.fieldState;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{htmlFor:"phone-signup",children:"Phone*"}),(0,V.jsx)(f.Z,(0,d.Z)((0,d.Z)({},r),{},{fullWidth:!0,error:Boolean(n.error),id:"phone-signup",inputProps:{}})),n.error&&(0,V.jsx)(Z.Z,{error:!0,children:n.error.message})]})}})})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(o.Z,{spacing:1,children:(0,V.jsx)(p.Qr,{name:"email",defaultValue:"",control:z,render:function(e){var r=e.field,n=e.fieldState;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{htmlFor:"email-signup",children:"Email Address*"}),(0,V.jsx)(f.Z,(0,d.Z)((0,d.Z)({},r),{},{type:"email",fullWidth:!0,error:Boolean(n.error),id:"email-login",inputProps:{}})),n.error&&(0,V.jsx)(Z.Z,{error:!0,children:n.error.message})]})}})})}),(0,V.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,V.jsx)(o.Z,{spacing:1,children:(0,V.jsx)(p.Qr,{name:"temp_password",defaultValue:"",control:z,render:function(e){var r=e.field,n=e.fieldState;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{htmlFor:"password-signup",children:"Password"}),(0,V.jsx)(f.Z,(0,d.Z)((0,d.Z)({},r),{},{fullWidth:!0,error:Boolean(n.error),id:"password-signup",type:w?"text":"password",endAdornment:(0,V.jsx)(j.Z,{position:"end",children:(0,V.jsx)(g.Z,{"aria-label":"toggle password visibility",onClick:E,onMouseDown:W,edge:"end",size:"large",children:w?(0,V.jsx)(R.Z,{}):(0,V.jsx)(F.Z,{})})}),placeholder:"******",inputProps:{}})),n.error&&(0,V.jsx)(Z.Z,{error:!0,children:n.error.message})]})}})}),(0,V.jsx)(de.Z,{fullWidth:!0,sx:{mt:2},children:(0,V.jsxs)(a.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,V.jsx)(a.ZP,{item:!0,children:(0,V.jsx)(N.Z,{sx:{bgcolor:null===n||void 0===n?void 0:n.color,width:85,height:8,borderRadius:"7px"}})}),(0,V.jsx)(a.ZP,{item:!0,children:(0,V.jsx)(l.Z,{variant:"subtitle1",fontSize:"0.75rem",children:null===n||void 0===n?void 0:n.label})})]})})]}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsxs)(l.Z,{variant:"body2",children:["By Signing up, you agree to our \xa0",(0,V.jsx)(b.Z,{variant:"subtitle2",component:s.rU,to:A.L1.TERMS,children:"Terms of Service"}),"\xa0 and \xa0",(0,V.jsx)(b.Z,{variant:"subtitle2",component:s.rU,to:A.L1.PRIVACY,children:"Privacy Policy"})]})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(L.Z,{children:(0,V.jsx)(y.Z,{disableElevation:!0,disabled:B,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Create Account"})})})]})})})},pe=function(){return(0,V.jsxs)(oe,{children:[(0,V.jsx)(le.q,{children:(0,V.jsx)("title",{children:"Signup | Referendum 2.0"})}),(0,V.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[(0,V.jsx)(l.Z,{variant:"h3",children:"Sign up"}),(0,V.jsx)(l.Z,{component:s.rU,to:A.L1.LOGIN,variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Already have an account?"})]})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(he,{})})]})]})},me=S.Ry({email:S.Z_().required("Email cannot be blank").email()}),fe=function(){var e=(0,p.cI)({resolver:(0,P.X)(me)}),r=e.handleSubmit,n=e.control,s=e.formState,l=(s.errors,s.isSubmitting),x=(0,k.Ds)().enqueueSnackbar,h=(0,t.k6)(),j=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(r).then((function(e){var r=e.flag,n=e.data;1==r?(x("Email send success. Check your email for password reset code",{variant:"success"}),h.push({pathname:i.L1.NEW_PASSWORD})):x(n.message,{variant:"error"})}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("form",{noValidate:!0,onSubmit:r(j),children:(0,V.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(o.Z,{spacing:1,children:(0,V.jsx)(p.Qr,{name:"email",defaultValue:"",control:n,render:function(e){var r,n=e.field,t=e.fieldState;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{htmlFor:"email-login",children:"Email Address"}),(0,V.jsx)(f.Z,(0,d.Z)({id:"email-login",type:"email",placeholder:"Enter email address",fullWidth:!0},n)),t.error&&(0,V.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:null===(r=t.error)||void 0===r?void 0:r.message})]})}})})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(L.Z,{children:(0,V.jsx)(y.Z,{disableElevation:!0,disabled:l,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Submit"})})})]})})})},Ze=function(){return(0,V.jsxs)(oe,{children:[(0,V.jsx)(le.q,{children:(0,V.jsx)("title",{children:"Forgot Password | Referendum 2.0"})}),(0,V.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[(0,V.jsx)(l.Z,{variant:"h3",children:"Forgot Password?"}),(0,V.jsx)(l.Z,{component:s.rU,to:A.L1.LOGIN,variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Got your password?"})]})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(fe,{})})]})]})},je=n(4942),ge=S.Ry({code:S.Z_().required("Verify code is required").test("len","Must be exactly 6 characters",(function(e){return 6===e.length})),password:S.Z_().required("New password is required"),confirm:S.Z_().oneOf([S.iH("password"),null],"Does not match with new password!").required("Confirm Password is required")}),ve=function(){var e=(0,h.useState)({new:!1,confirm:!1}),r=(0,x.Z)(e,2),n=r[0],i=r[1],s=(0,t.k6)(),l=(0,p.cI)({resolver:(0,P.X)(ge)}),v=l.handleSubmit,w=l.control,b=l.formState,S=(b.errors,b.isSubmitting),E=function(e){i((0,d.Z)((0,d.Z)({},n),{},(0,je.Z)({},e,!n[e])))},C=function(e){e.preventDefault()},W=(0,k.Ds)().enqueueSnackbar,I=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(r).then((function(e){1==e.flag?(W("Password change success",{variant:"success"}),s.push({pathname:A.L1.LOGIN})):W("Password not changed",{variant:"warning"})}));case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,V.jsx)(V.Fragment,{children:(0,V.jsx)("form",{noValidate:!0,onSubmit:v(I),children:(0,V.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(o.Z,{spacing:1,children:(0,V.jsx)(p.Qr,{name:"code",defaultValue:"",control:w,render:function(e){var r,n=e.field,t=e.fieldState;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{htmlFor:"email-login",children:"Code"}),(0,V.jsx)(f.Z,(0,d.Z)({id:"email-login",type:"text",placeholder:"Enter code",fullWidth:!0},n)),t.error&&(0,V.jsx)(Z.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:null===(r=t.error)||void 0===r?void 0:r.message})]})}})})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(o.Z,{spacing:1,children:(0,V.jsx)(p.Qr,{name:"password",defaultValue:"",control:w,render:function(e){var r,t=e.field,i=e.fieldState;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{htmlFor:"password-new",children:"New Password"}),(0,V.jsx)(f.Z,(0,d.Z)((0,d.Z)({fullWidth:!0,id:"password-new",type:n.new?"text":"password"},t),{},{endAdornment:(0,V.jsx)(j.Z,{position:"end",children:(0,V.jsx)(g.Z,{"aria-label":"toggle password visibility",onClick:function(){return E("new")},onMouseDown:C,edge:"end",size:"large",children:n.new?(0,V.jsx)(R.Z,{}):(0,V.jsx)(F.Z,{})})}),placeholder:"Enter new password"})),i.error&&(0,V.jsx)(Z.Z,{error:!0,children:null===(r=i.error)||void 0===r?void 0:r.message})]})}})})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(o.Z,{spacing:1,children:(0,V.jsx)(p.Qr,{name:"confirm",defaultValue:"",control:w,render:function(e){var r,t=e.field,i=e.fieldState;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.Z,{htmlFor:"password-confirm",children:"Confirm Password"}),(0,V.jsx)(f.Z,(0,d.Z)((0,d.Z)({fullWidth:!0,id:"password-confirm",type:n.confirm?"text":"password"},t),{},{endAdornment:(0,V.jsx)(j.Z,{position:"end",children:(0,V.jsx)(g.Z,{"aria-label":"toggle password visibility",onClick:function(){return E("confirm")},onMouseDown:C,edge:"end",size:"large",children:n.confirm?(0,V.jsx)(R.Z,{}):(0,V.jsx)(F.Z,{})})}),placeholder:"Reenter password"})),i.error&&(0,V.jsx)(Z.Z,{error:!0,children:null===(r=i.error)||void 0===r?void 0:r.message})]})}})})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(L.Z,{children:(0,V.jsx)(y.Z,{disableElevation:!0,disabled:S,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Submit"})})})]})})})},we=function(){return(0,V.jsxs)(oe,{children:[(0,V.jsx)(le.q,{children:(0,V.jsx)("title",{children:"Change Password | Referendum 2.0"})}),(0,V.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[(0,V.jsx)(l.Z,{variant:"h3",children:"Change Password"}),(0,V.jsx)(l.Z,{component:s.rU,to:A.L1.LOGIN,variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Got your password?"})]})}),(0,V.jsx)(a.ZP,{item:!0,xs:12,children:(0,V.jsx)(ve,{})})]})]})};var be=function(){return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(t.AW,{exact:!0,path:i.L1.LOGIN,component:ce}),(0,V.jsx)(t.AW,{exact:!0,path:i.L1.FORGOT_PASSWORD,component:Ze}),(0,V.jsx)(t.AW,{exact:!0,path:i.L1.NEW_PASSWORD,component:we}),(0,V.jsx)(t.AW,{exact:!0,path:i.L1.SIGNUP,component:pe})]})}}}]);