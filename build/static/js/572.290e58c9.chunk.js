"use strict";(self.webpackChunkStore=self.webpackChunkStore||[]).push([[572],{8673:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(1413),a=t(4942),o=t(5987),i=t(7313),c=t(3061),s=t(564),u=(0,t(8070).Z)((function(e){var n=e.palette,t=e.typography,r=e.borders,a=e.functions,o=n.white,i=n.gradients,c=n.badgeColors,s=t.size,u=t.fontWeightBold,d=r.borderRadius,l=r.borderWidth,p=a.pxToRem,f=a.linearGradient;return{badge:{"& .MuiBadge-badge":{height:"auto",padding:function(e){var n,t=e.size;return n="extra-small"===t?"0.575em 0.775em 0.375em":"medium"===t?"0.65em 1em":"large"===t?"0.85em 1.375em":"0.55em 0.9em",n},fontSize:function(e){return"extra-small"===e.size?s.xxs:s.xs},fontWeight:u,textTransform:"uppercase",lineHeight:1,textAlign:"center",whiteSpace:"nowrap",verticalAlign:"baseline",borderRadius:function(e){var n=e.size;return e.circular?d.section:"extra-small"===n?d.sm:d.md},border:function(e){return e.border?"".concat(l[3]," solid ").concat(o.main):"none"}}},badge_indicator:{"& .MuiBadge-badge":{width:function(e){var n,t=e.size;return n=p("medium"===t?24:"large"===t?32:20),n},height:function(e){var n,t=e.size;return n=p("medium"===t?24:"large"===t?32:20),n},display:"grid",placeItems:"center",textAlign:"center",borderRadius:"50%",padding:0,border:function(e){return e.border?"".concat(l[3]," solid ").concat(o.main):"none"}}},gradient:{"& .MuiBadge-badge":{backgroundImage:function(e){var n=e.color;return f(i[n].main,i[n].state)},color:o.main}},contained:{"& .MuiBadge-badge":{background:function(e){var n=e.color;return c[n].background},color:function(e){var n=e.color;return c[n].text}}},badge_childNode:{"& .MuiBadge-badge":{position:"static",marginLeft:p(8),transform:"none",fontSize:p(9)}},badge_container:{"& .MuiBadge-badge":{position:"relative",transform:"none"}}}})),d=t(6417),l=["color","variant","size","badgeContent","circular","indicator","border","container","children"],p=(0,i.forwardRef)((function(e,n){var t,i=e.color,p=e.variant,f=e.size,h=e.badgeContent,m=e.circular,x=e.indicator,g=e.border,v=e.container,b=e.children,Z=(0,o.Z)(e,l),y=u({color:i,circular:m,border:g,size:f});return(0,d.jsx)(s.Z,(0,r.Z)((0,r.Z)({},Z),{},{ref:n,badgeContent:h,color:"default",className:(0,c.Z)("".concat(y[p]),(t={},(0,a.Z)(t,y.badge,!x),(0,a.Z)(t,y.badge_indicator,x),(0,a.Z)(t,y.badge_childNode,!b&&!v),(0,a.Z)(t,y.badge_container,v),t)),children:b}))}));p.defaultProps={color:"info",variant:"gradient",size:"small",circular:!1,indicator:!1,border:!1,children:!1,container:!1};var f=p},4876:function(e,n,t){var r=t(1413),a=t(7313),o=t(6835),i=t(3467),c=t(1629),s=t(4076),u=t(7829),d=t(9782),l=t(8540),p=t(551),f=t(6417);function h(e){var n=e.columns,t=e.rows,h=d.Z.light,m=l.Z.size,x=l.Z.fontWeightBold,g=p.Z.borderWidth,v=n.map((function(e,t){var r,a,o=e.name,i=e.label,c=e.align;return 0===t||t===n.length-1?(r=3,a=3):(r=1,a=1),(0,f.jsx)(u.Z,{component:"th",pt:1.5,pb:1.25,pl:"left"===c?r:3,pr:"right"===c?a:3,textAlign:c,fontSize:m.xxs,fontWeight:x,color:"primary",opacity:.9,borderBottom:"".concat(g[1]," solid ").concat(h.main),children:i||o.toUpperCase()},o)})),b=t.map((function(e,t){var a="row-".concat(t),o=n.map((function(n){var a=n.name,o=n.align;if(e.hasOwnProperty(a)){var i=e[a],c={},s={padding:5,margin:2,textAlign:o};return Array.isArray(i)&&(i=e[a][1],c=e[a][0]),c.style&&(s=(0,r.Z)((0,r.Z)({},s),c.style)),(0,f.jsx)("td",(0,r.Z)((0,r.Z)({},c),{},{style:s,children:i}),a+t)}}));return(0,f.jsx)(s.Z,{children:o},a)}));return(0,a.useMemo)((function(){return(0,f.jsx)(c.Z,{children:(0,f.jsxs)(o.Z,{children:[(0,f.jsx)(u.Z,{component:"thead",children:(0,f.jsx)(s.Z,{children:v})}),(0,f.jsx)(i.Z,{children:b})]})})}),[n,t])}h.defaultProps={columns:[],rows:[]},n.Z=h},9572:function(e,n,t){t.r(n),t.d(n,{default:function(){return ee}});var r=t(7313),a=t(3830),o=t(2252),i=t(5861),c=t(885),s=t(7757),u=t.n(s),d=t(3428),l=t(7829),p=t(3800),f=t(8879),h=t(5812),m=t(4032),x=t(57),g=t(4876),v=(0,t(8070).Z)((function(e){var n=e.borders,t=n.borderWidth,r=n.borderColor;return{tables_table:{"& .MuiTableRow-root:not(:last-child)":{"& td":{borderBottom:"".concat(t[1]," solid ").concat(r)}}}}})),b=(t(8673),t(4488)),Z=t(7970),y=t(5954),j=t(1997),w=t(6417);function C(e){var n=e.text,t=e.edge,r=e.warpLength;return(0,w.jsx)(l.Z,{display:"flex",pl:t?2.5:.5,pr:t?2.5:.5,pt:1.5,pb:1.25,children:(0,w.jsx)(f.Z,{variant:"caption",fontWeight:"medium",warpLength:r,children:n})})}var k=function(e,n,t){return e.map((function(e){var r=e.id,a=e.name,o=e.code;return{id:(0,w.jsx)(C,{text:r,edge:!0}),name:(0,w.jsx)(C,{text:a}),code:(0,w.jsx)(C,{text:o}),action:(0,w.jsxs)(l.Z,{display:"flex",pl:2.5,pr:2.5,pt:1.5,pb:1.25,sx:{justifyContent:"center"},children:[(0,w.jsx)("a",{style:{cursor:"pointer"},onClick:function(){n(r,a)},children:(0,w.jsx)(y.Z,{size:"20px"})}),(0,w.jsx)("a",{style:{cursor:"pointer",color:"red",marginLeft:"10px"},onClick:function(){t(r,a)},children:(0,w.jsx)(j.Z,{size:"20px"})})]})}}))},S=[{name:"id",align:"left"},{name:"name",align:"left"},{name:"code",align:"left"},{name:"action",align:"center"}],A=t(1413),z=function(){var e=(0,i.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.jY)((0,A.Z)({},n)).then((function(e){return{flag:!0,headers:e.headers,status:e.status,message:"Success",data:e.data}})).then((function(e){return e})).catch((function(e){return{flag:!1,status:e.status,message:"Error",data:e.data}}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function _(e){return O.apply(this,arguments)}function O(){return(O=(0,i.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({url:"/store/category",data:(0,A.Z)({},n)}).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return R.apply(this,arguments)}function R(){return(R=(0,i.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({url:"/store/category/view?id="+n}).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return M.apply(this,arguments)}function M(){return(M=(0,i.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({url:"/store/category/delete?id="+n,method:"delete"}).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return D.apply(this,arguments)}function D(){return(D=(0,i.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({url:"/store/category/create",method:"post",data:n}).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,n){return W.apply(this,arguments)}function W(){return(W=(0,i.Z)(u().mark((function e(n,t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,x.HB)(t),e.next=3,z({url:"/store/category/update?id="+n,method:"patch",data:r}).then((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=t(8303);var L=function(){var e=(0,m.Ds)().enqueueSnackbar,n=(0,r.useState)({categorys:null,pg:{size:0,pages:0,current:0,total:0}}),t=(0,c.Z)(n,2),s=t[0],y=t[1],j=s.categorys,C=s.pg,A=v(),z=(0,a.k6)(),O=function(e,n){z.push({pathname:o.Od.CATEGORY_UPDATE,search:"?"+n.replace(" ","-").toLowerCase(),state:{id:e,name:n}})},T=function(n,t){var r=function(){var e=(0,i.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E(n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,x.yo)({title:"Are you sure?"},r).then((function(n){null!==n&&(n.flag?(e("Category delete success",{variant:"success"}),M(C.current)):e("Category delete failed",{variant:"error"}))}))},R=function(e,n){C.current!=n&&M(n)};function M(e){return I.apply(this,arguments)}function I(){return(I=(0,i.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({page:n}).then((function(e){e.flag&&(Object.keys(e.data).length?y({categorys:e.data,pg:{size:parseInt(e.headers["x-pagination-per-page"]),pages:parseInt(e.headers["x-pagination-page-count"]),current:parseInt(e.headers["x-pagination-current-page"]),total:parseInt(e.headers["x-pagination-total-count"])}}):y({categorys:[],pg:{size:0,pages:0,current:0,total:0}}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,r.useEffect)((function(){M(0)}),[]);var D=function(){return null===j?(0,w.jsx)("div",{children:(0,w.jsx)(g.Z,{columns:S,rows:[{id:[{colSpan:"4"},(0,w.jsx)(b.Z,{animation:"wave",variant:"text",width:"80%",height:30})]},{id:[{colSpan:"4"},(0,w.jsx)(b.Z,{animation:"wave",variant:"text",width:"70%",height:30})]},{id:[{colSpan:"4"},(0,w.jsx)(b.Z,{animation:"wave",variant:"text",width:"90%",height:30})]}]})}):0==j.length?(0,w.jsx)("div",{children:(0,w.jsx)(g.Z,{columns:S,rows:[{id:[{colSpan:"4",style:{textAlign:"center"}},(0,w.jsx)(f.Z,{component:"span",textColor:"secondary",fontWeight:"medium",p:20,children:"No data found"})]}]})}):(0,w.jsxs)("div",{children:[(0,w.jsx)(g.Z,{columns:S,rows:k(j,O,T)}),(0,w.jsx)(l.Z,{mt:1,mb:2,style:{float:"right"},children:(e=C,n=R,(0,w.jsx)(Z.Z,{variant:"outlined",count:e.pages,page:e.current,color:"primary",siblingCount:2,boundaryCount:2,onChange:n}))})]});var e,n};return(0,w.jsx)(l.Z,{py:3,children:(0,w.jsx)(l.Z,{mb:3,children:(0,w.jsxs)(d.Z,{children:[(0,w.jsxs)(l.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",p:3,children:[(0,w.jsx)(f.Z,{variant:"h6",children:o.ng.CATEGORY_LIST}),(0,w.jsx)(B.rU,{to:o.Od.CATEGORY_ADD,children:(0,w.jsx)(h.Z,{buttonColor:"secondary",children:"Add Category"})})]}),(0,w.jsx)(p.Z,{customClass:A.tables_table,children:(0,w.jsx)(D,{})})]})})})},V=t(5627),N=t(1432),G=t(6834),Y=t(9019),q=t(5539),H=function(e){var n=e.control,t=e.handleSubmit,r=e.onSubmitHandler,a=e.isNewCategory,o=e.errors,i=(e.getValues,0),c=[];for(var s in o)c[i]=(0,w.jsx)(f.Z,{textColor:"error",variant:"caption",component:"li",children:o[s].message},s),i++;return(0,w.jsx)(l.Z,{py:3,children:(0,w.jsx)(l.Z,{mb:3,children:(0,w.jsx)(d.Z,{children:(0,w.jsx)(l.Z,{pt:2,pb:3,px:3,children:(0,w.jsx)("form",{onSubmit:t(r),children:(0,w.jsxs)(Y.ZP,{container:!0,spacing:2,children:[(0,w.jsxs)(Y.ZP,{item:!0,xs:12,children:[(0,w.jsx)(f.Z,{variant:"subtitle2",component:"div",children:"Name"}),(0,w.jsx)(V.Qr,{name:"name",control:n,defaultValue:"",render:function(e){var n,t=e.field,r=e.fieldState;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(q.Z,(0,A.Z)((0,A.Z)({},t),{},{error:r.invalid})),(0,w.jsx)(f.Z,{textColor:"error",variant:"caption",component:"span",children:null===(n=r.error)||void 0===n?void 0:n.message})]})}})]}),(0,w.jsxs)(Y.ZP,{item:!0,xs:12,children:[(0,w.jsx)(f.Z,{variant:"subtitle2",component:"div",children:"Code"}),(0,w.jsx)(V.Qr,{name:"code",control:n,render:function(e){var n,t=e.field,r=e.fieldState;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(q.Z,(0,A.Z)((0,A.Z)({},t),{},{error:r.invalid})),(0,w.jsx)(f.Z,{textColor:"error",variant:"caption",component:"span",children:null===(n=r.error)||void 0===n?void 0:n.message})]})}})]}),(0,w.jsx)(Y.ZP,{item:!0,xs:9,children:c}),(0,w.jsx)(Y.ZP,{item:!0,xs:3,children:(0,w.jsx)(h.Z,{style:{float:"right"},type:"submit",buttonColor:a?"primary":"secondary",children:a?"Save":"Update"})})]})})})})})})};H.defaultProps={isNewCategory:!0};var U=H,F=t(4886),Q=G.Ry({name:G.Z_().required("Name cannot be blank").max(100),code:G.Z_().required("Code cannot be blank").max(100)});var X=function(){var e=(0,V.cI)({resolver:(0,N.X)(Q)}),n=e.handleSubmit,t=e.control,r=e.getValues,o=e.formState.errors,c=(0,m.Ds)().enqueueSnackbar,s=(0,a.k6)();function d(){return(d=(0,i.Z)(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(n).then((function(e){var n=e.flag,t=e.data;0==n&&(c("Category add success",{variant:"success"}),s.push({pathname:F.Od.CATEGORY_LIST,state:{id:t.id,name:t.name}}))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,w.jsx)(U,{onSubmitHandler:function(e){return d.apply(this,arguments)},handleSubmit:n,control:t,errors:o,getValues:r})},J=t(6352),K=G.Ry({name:G.Z_().required("Name cannot be blank").max(200),code:G.Z_().required("Code cannot be blank").max(20)});var $=function(){var e=(0,m.Ds)().enqueueSnackbar,n=(0,r.useState)({}),t=(0,c.Z)(n,2),o=t[0],s=t[1],d=(0,J.v9)((function(e){return e.navPath.curr})),l=d.id,p=d.name,f=(0,a.k6)();function h(){return(h=(0,i.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(l).then((function(e){if(e.flag){var n=e.data;Z({name:n.name,code:n.code},{keepDirty:!0})}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log(l,o),(0,r.useEffect)((function(){return 0===Object.keys(o).length&&void 0!==l&&function(){h.apply(this,arguments)}(),function(){return s({})}}),[]);var x=(0,V.cI)({resolver:(0,N.X)(K),reValidateMode:"onChange",keepDirty:!0,defaultValues:(0,r.useMemo)((function(){return{name:o.name,code:o.code}}),[o])}),g=x.handleSubmit,v=x.control,b=x.getValues,Z=x.reset;function y(){return(y=(0,i.Z)(u().mark((function n(t){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,P(l,t).then((function(n){n.flag?(e("Category update success",{variant:"success"}),s(n.data),f.push({pathname:F.Od.CATEGORY_LIST,state:{id:l,name:p}})):e("Categoryor update failed",{variant:"error"})}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,w.jsx)(U,{onSubmitHandler:function(e){return y.apply(this,arguments)},handleSubmit:g,control:v,isNewCategory:!1,getValues:b})};var ee=function(){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(a.AW,{exact:!0,path:o.Od.CATEGORY_ADD,component:X}),(0,w.jsx)(a.AW,{exact:!0,path:o.Od.CATEGORY_LIST,component:L}),(0,w.jsx)(a.AW,{exact:!0,path:o.Od.CATEGORY_UPDATE,component:$})]})}},1997:function(e,n,t){var r=t(2398);n.Z=void 0;var a=r(t(5045)),o=t(6417),i=(0,a.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=i},5954:function(e,n,t){var r=t(2398);n.Z=void 0;var a=r(t(5045)),o=t(6417),i=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.Z=i}}]);